# UI/UX 規格文件: 良聯智慧諮詢平台

**文件版本:** 1.0
**日期:** 2025年8月5日

---

## 第一章：整體 UX 目標與原則

本章節為我們的設計工作定下基調，確保所有的設計決策都有一致的指導方針。

### 1.1 目標用戶畫像 (Target User Personas)
* **主要用戶：採購經理 / 企業採購人員**
    * **特徵:** 專業、目標導向、重視效率與資訊的準確性。他們不是來「逛」的，而是來解決特定問題的。

### 1.2 可用性目標 (Usability Goals)
* **效率 (Efficiency):** 使用者能在最短時間內，透過提問找到所需資訊。
* **清晰與信賴 (Clarity & Trust):** 答案的呈現必須清晰易懂，且附帶的來源能快速建立使用者對系統的信任感。
* **易學性 (Ease of Learning):** 介面需足夠直觀，讓首次使用的使用者無需培訓即可完成核心任務。

### 1.3 核心設計原則 (Core Design Principles)
1.  **清晰至上 (Clarity First):** 任何設計元素都應以清晰傳達資訊為首要目標，避免模糊或華而不實的設計。
2.  **漸進式揭露 (Progressive Disclosure):** 只在需要時呈現必要的資訊與操作，保持介面乾淨，避免使用者被次要功能干擾。
3.  **模式一致性 (Consistent Patterns):** 在整個應用程式中，使用一致的互動模式與視覺風格，降低使用者的學習成本。
4.  **即時反饋 (Immediate Feedback):** 使用者的每一次操作都應得到系統立即且明確的視覺反饋。

---

## 第二章：資訊架構 (Information Architecture)

本章節規劃出應用的所有主要頁面以及它們之間的關係，確保使用者能輕易地導航。

### 2.1 網站地圖 / 畫面清單 (Site Map / Screen Inventory)
```mermaid
graph TD
    A[使用者] --> B{已登入?};
    B -- 否 --> C[登入 / 註冊頁];
    B -- 是 --> D[應用程式主框架];
    
    subgraph 應用程式主框架
        direction TB
        E[頂部導覽列 (含 Logo & 使用者選單)]
        F[側邊次要導覽列]
        G[內容顯示區]
    end

    F --> H[資料集列表頁];
    F --> I[智慧問答頁];
```
### 2.2 導航結構 (Navigation Structure)
* **主要導航 (Top Navigation): 位於頂部，左側為「良聯智慧諮詢平台」Logo，右側為使用者選單（包含「使用者設定」和「登出」）。**
    * **次要導覽 (Side Navigation): 位於左側，包含以下連結：**
    資料集列表 (Dataset List)
    智慧問答 (Q&A Robot)    

## 第三章：使用者流程 (User Flows)

本章節將使用者為了完成目標所需採取的每一步都視覺化地描繪出來。

### 3.1 流程一：資料注入流程 (Data Ingestion Flow)
* **使用者目標:** 使用者想要上傳一份或多份文件，將其建立為一個新的、可供查詢的資料集。
* **進入點:** 在「資料集列表」頁面點擊「建立新資料集」按鈕。
* **成功條件:** 使用者在「資料集列表」頁看到新建立的資料集，且其狀態最終顯示為「已就緒 (Ready)」。
* **流程圖:**
    ```mermaid
    sequenceDiagram
        participant U as 使用者
        participant FE as 前端介面
        participant BE as 後端系統

        U->>FE: 1. 點擊「建立新資料集」
        FE->>U: 2. 顯示建立視窗 (輸入名稱/選擇檔案)
        U->>FE: 3. 輸入資料集名稱並選擇檔案
        U->>FE: 4. 點擊「上傳」
        FE->>BE: 5. 發送建立資料集與上傳檔案請求
        activate BE
        FE->>U: 6. 顯示檔案上傳進度
        BE-->>FE: 7. 回傳上傳成功
        deactivate BE
        FE->>U: 8. 儀表板卡片狀態顯示「處理中...」
        Note right of BE: 系統在背景進行向量化處理
        BE-->>FE: 9. (處理完畢後) 推送更新狀態
        FE->>U: 10. 儀表板卡片狀態更新為「已就緒」
    ```

### 3.2 流程二：智慧問答流程 (Intelligent Q&A Flow)
* **使用者目標:** 使用者選定一個資料集後，想要提出一個問題，並從 Chatbot 獲得一個附有來源的精準答案。
* **進入點:** 在「智慧問答」頁面的對話輸入框中輸入問題並送出。
* **成功條件:** 使用者的問題顯示在對話紀錄中，隨後 Chatbot 顯示一個有意義且附帶可驗證來源的答案。
* **流程圖:**
    ```mermaid
    sequenceDiagram
        participant U as 使用者
        participant FE as 前端介面
        participant BE as 後端系統

        U->>FE: 1. (在介面上) 選擇要查詢的資料集
        U->>FE: 2. 輸入問題並點擊「傳送」
        FE->>U: 3. 對話紀錄中出現使用者的問題
        FE->>U: 4. 顯示「正在為您查詢...」的提示
        FE->>BE: 5. 發送查詢請求 (含問題與資料集ID)
        activate BE
        Note right of BE: 執行 RAG 與 Multi-Agent 流程...
        BE-->>FE: 6. 回傳答案與來源資料
        deactivate BE
        FE->>U: 7. 移除查詢提示，顯示 Chatbot 回答
        FE->>U: 8. 答案下方顯示可展開的「來源」
        U->>FE: 9. (可選) 點擊展開「來源」
        FE->>U: 10. 顯示來源內容預覽
    ```

---

## 第四章：線框圖與模型 (Wireframes & Mockups)

本章節規劃畫面的基本佈局，作為後續高保真視覺設計的基礎藍圖。

### 4.1 核心畫面佈局：智慧問答頁 (桌面版)
+----------------------------------------------------------------------+
| (Logo) 良聯智慧諮詢平台                             (使用者選單▼)    |
+----------------------------------------------------------------------+
|                      |                                               |
|  (側邊導覽列)        |  [對話紀錄視窗]                               |
|  - 資料集列表        |                                               |
|  - 智慧問答 (當前頁) |   使用者: 請問xxx料件是否有採購過？           |
|                      |                                               |
|                      |   機器人: 正在為您查詢...                     |
|                      |                                               |
|                      |                                               |
|                      |  [_________________________________________]  |
|                      |  [ (範本按鈕1) (範本按鈕2)   [ 傳送 > ]     ]  |
+----------------------------------------------------------------------+
### 4.2 行動裝置佈局概念
採用隱藏式側邊欄模式，優先顯示核心內容。
* **主要對話畫面:**
    ```
    +---------------------------------+
    | (☰) 良聯智慧諮詢平台  (👤▼) |
    +---------------------------------+
    |                                 |
    |      [對話紀錄視窗]             |
    |                                 |
    | [_____________________________] |
    | [ (範本)      [ 傳送 > ]      ] |
    +---------------------------------+
    ```
* **展開的導覽列:**
    ```
    +---------------------------------+
    | (X) 良聯智慧諮詢平台  (👤▼) |
    +---------------------------------+
    | - 資料集列表                    |
    | - 智慧問答                      |
    +---------------------------------+
    ```

---

## 第五章：元件庫 / 設計系統 (Component Library / Design System)

### 5.1 設計系統方法 (Design System Approach)
* **決定:** 採用 **Ant Design** 作為基礎 UI 元件庫，並在其上進行主題客製化以符合品牌風格。

### 5.2 核心元件 (Core Components)
* 按鈕 (Button)
* 輸入框 (Input Field)
* 卡片 (Card)
* 導覽列 (Navigation)
* 選單 (Menu)
* 對話視窗元件 (Chat Components)
* 載入指示器 (Loading Indicator)
* 彈出式視窗 (Modal)

---

## 第六章：品牌與風格指南 (Branding & Style Guide)

### 6.1 色彩計畫 (Color Palette)
* **主色 (Primary):** ` #1677ff ` (Ant Design 預設藍)
* **輔助色 (Secondary):** ` #f0f2f5 ` (淡灰色)
* **成功 (Success):** ` #52c41a ` (綠色)
* **警告 (Warning):** ` #faad14 ` (橘色)
* **錯誤 (Error):** ` #f5222d ` (紅色)
* **文字/中性色 (Neutral):** 一系列由黑至白的灰色。

### 6.2 字體排印 (Typography)
* **主要字體:** 系統預設 UI 字體 (例如 Windows 的「微軟正黑體」、macOS 的「蘋方」)。
* **字體層級:** 將定義一組清晰的字體大小層級 (H1, H2, H3, Body...)。

### 6.3 圖示 (Iconography)
* **圖示庫:** 直接使用 **Ant Design** 內建的圖示庫，以確保風格統一。

### 6.4 間距與佈局 (Spacing & Layout)
* **網格系統:** 採用業界標準的 **8pt 網格系統** 來定義間距。

---

## 第七章：無障礙設計需求 (Accessibility Requirements)

### 7.1 合規目標 (Compliance Target)
* **標準:** 遵循 **WCAG 2.1 AA** 標準。

### 7.2 關鍵需求 (Key Requirements)
* **視覺:** 色彩對比度至少達到 4.5:1。
* **互動:** 所有功能都必須能僅透過鍵盤來操作，且焦點可見。
* **內容:** 提供圖片替代文字，使用邏輯正確的標題結構，並為表單提供清晰標籤。

### 7.3 測試策略 (Testing Strategy)
* 結合自動化工具 (如 aXe) 與手動測試 (如鍵盤、螢幕報讀軟體測試)。

---

## 第八章：響應式設計策略 (Responsiveness Strategy)

### 8.1 斷點 (Breakpoints)
| 斷點 | 最小寬度 | 目標裝置 |
| :--- | :--- | :--- |
| **行動裝置** | 320px | 手機 |
| **平板裝置** | 768px | 平板電腦 |
| **桌面裝置** | 1024px | 桌機、筆電 |

### 8.2 適應模式 (Adaptation Patterns)
* 在行動裝置寬度 (`< 768px`) 時，側邊導覽列會隱藏在「漢堡選單」中。
* 在平板與桌面裝置寬度 (`>= 768px`) 時，側邊導覽列會固定顯示在左側。

---

## 第九章：動畫與微互動 (Animation & Micro-interactions)

### 9.1 動效原則 (Motion Principles)
1.  **有目的性:** 用於引導與反饋。
2.  **快速且微妙:** 動畫時間應短 (150ms - 300ms)。
3.  **效能優先:** 優先使用 CSS 動畫。
4.  **尊重使用者:** 提供「減少動態效果」的選項。

### 9.2 關鍵動畫 (Key Animations)
* **狀態轉換:** 互動元件 (按鈕、輸入框) 的狀態變化應有平滑過渡。
* **載入指示器:** 使用柔和的動畫緩解等待焦慮。
* **來源展開/收合:** 內容區塊的變化應有平滑動畫。
* **新訊息出現:** 新的聊天訊息可帶有輕微的淡入效果。

---

## 第十章：效能考量 (Performance Considerations)

### 10.1 效能目標 (Performance Goals)
* **主要內容載入 (LCP):** 核心頁面應在 **2.5 秒** 內完成渲染。
* **首次輸入延遲 (FID):** 使用者首次互動的回應時間應在 **100 毫秒** 內。
* **動畫流暢度:** UI 動畫應保持在 **60 FPS**。

### 10.2 影響體驗的設計策略 (Design Strategies)
* 採用**骨架屏 (Skeleton Screens)** 改善感知載入速度。
* **延遲載入 (Lazy Loading)** 不在首屏的圖片或元件。
* **樂觀更新 (Optimistic UI Updates)** 用於低風險操作。

---

## 第十一章：下一步 (Next Steps)

### 11.1 立即行動 (Immediate Actions)
1.  **最終審閱:** 請您完整地最後審閱本文件。
2.  **高保真設計:** 在專業設計工具 (如 Figma) 中，根據本文件進行視覺設計。
3.  **交接給架構師:** 將本文件與 PRD 一同交接給「架構師 (Architect)」。

### 11.2 設計交接檢查清單 (Design Handoff Checklist)
- [x] 所有核心使用者流程皆已文件化
- [x] 核心元件庫存清單已完成 (決定採用 Ant Design)
- [x] 無障礙設計需求已定義 (目標 WCAG 2.1 AA)
- [x] 響應式設計策略已明確
- [x] 品牌與風格指南已建立
- [x] 效能目標已確立